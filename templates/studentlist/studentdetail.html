{% extends 'index/home.html' %}
{% load static %}
{% block title %}
{% endblock title %}
{% block style %}

{% endblock style %}

{% block content %}
<div class="content" >
    <div class="row">
      <div class="col-sm-5 col-4">
        <h4 class="page-title">Student Detail</h4>
      </div>
      <div class="col-sm-7 col-8 text-end m-b-30">
        <div class="btn-group btn-group-sm">
          <a href="{% url 'studentrecord:generate_excel' %}?id={{patient_model.id}}" class="btn btn-white">Excel</a>
          <a href="{% url 'studentrecord:generate_pdf' %}?id={{patient_model.id}}" class="btn btn-white">PDF</a>
          <button class="btn btn-white" onclick="printStudentDetails()">
            <i class="fas fa-print fa-lg"></i> Print
          </button>
        </div>
      </div>
    </div>
    <div class="row" id="studentDetails">
      <div class="col-md-12"> 
        <div class="card-box">
          <h4 class="payslip-title">
            
          </h4>
          <div class="row">
            <div class="col-sm-6 m-b-20">
              <div class="invoice-details">
                <h3 class="text-uppercase">Patient #{{patient_model.id}}</h3>
                <ul class="list-unstyled">
                  <li>DateAdded:<span>{{patient_model.DateAdded|date:"F d Y"}}</span></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-lg-12 m-b-20">
              <ul class="list-unstyled">
                <li>
                  <h5 class="mb-0"><strong>Personal Information</strong></h5>
                </li>
                <li><span>Name:{{patient_model.PatientNAME|default:''}}</span></li>
                <li><span>Age:{{patient_model.PatientAGE|default:''}}</span></li>
                <li><span>Gender:{{patient_model.PatientGender|default:''}}</span></li>
                <li>Course:{{patient_model.PatientCOURSE|default:''}}</li>
                <li>Birthday:{{patient_model.PatientBirthday|default:''}}</li>
                <li>Year Level:{{patient_model.PatientYEARLEVEL|default:''}}</li>
              </ul>
            </div>
          </div>
          <div class="row">
            <div class="col-sm-6">
              <div>
                <h4 class="m-b-10"><strong>Disease</strong></h4>
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td>
                        <strong></strong>
                        <span class="float-right">Disease Name: {{patient_model.CheckupandappointmentID.Disease|default:""}}</span>
                      </td>
                    </tr>
                
                    <tr>
                      <td>
                        <strong>DateAdded: {{patient_model.CheckupandappointmentID.DateUpdated|date:"F d y"}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="col-sm-6">
              <div>
                <h4 class="m-b-10"><strong>Medical History</strong></h4>
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td>
                        <strong>Allergies: {{patient_model.MedicalHistoryID.Allergies|default:""}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>Medications: {{patient_model.MedicalHistoryID.Medications|default:""}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>Medicalconditions: {{patient_model.MedicalHistoryID.Medicalconditions|default:""}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>Familyhistory: {{patient_model.MedicalHistoryID.Familyhistory|default:""}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>DateAdded: {{patient_model.MedicalHistoryID.DateAdded|date:"F d y"}}</strong>
                        <span class="float-right"
                          ><strong></strong></span
                        >
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>DateUpdated: {{patient_model.MedicalHistoryID.DateUpdated|date:"F d y"}}</strong>
                        <span class="float-right"
                          ><strong></strong></span
                        >
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="col-sm-6">
              <div>
                <h4 class="m-b-10"><strong>Recent lab history</strong></h4>
                <table class="table table-bordered">
                  <tbody>
                    <tr>
                      <td>
                        <strong></strong>
                        <span class="float-right">Fasting blood sugar: {{patient_model.RecentlabhistoryID.Fastingbloodsugar|default:""}}</span>
                      </td>
                    </tr>
                
                    <tr>
                      <td>
                        <strong>Blood pressure: {{patient_model.RecentlabhistoryID.Bloodpressure|default:""}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>Hba1c: {{patient_model.RecentlabhistoryID.Hba1c|default:""}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>Cholesterol: {{patient_model.RecentlabhistoryID.Cholesterol|default:""}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>DateAdded: {{patient_model.RecentlabhistoryID.DateAdded|date:"F d y"}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                    <tr>
                      <td>
                        <strong>DateUpdated: {{patient_model.RecentlabhistoryID.DateUpdated|date:"F d y"}}</strong>
                        <span class="float-right"></span>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
            <div class="col-sm-12">
              <p>
                <strong>This is valid record:</strong> All above information is valid by the doctor check-up with legitamate license
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}

{% block script %}
<script>
  function printStudentDetails() {
    var printContent = document.getElementById("studentDetails").innerHTML;
    var originalContent = document.body.innerHTML;
    document.body.innerHTML = printContent;
    window.print();
    document.body.innerHTML = originalContent;
  }
  </script>
{% endblock script %}